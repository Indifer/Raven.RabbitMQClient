1. 发送消息给队列
队列不存在，发送成功
队列已存在，与定义不冲突，发送成功
队列已存在，与定义冲突，不重新声明队列，发送失败
队列已存在，与定义冲突，重新声明队列，发送成功

2. 发送消息给路由器
路由器不存在，发送成功
路由器已存在，与定义不冲突，发送成功
路由器已存在，与定义冲突，发送失败

3. 从队列查询消息
队列不存在，返回空
队列已存在，队列不为空，返回消息
队列已存在，队列为空，返回空

4. 订阅消息队列
队列不存在，路由器不存在，订阅失败
队列不存在，路由器存在，订阅成功
队列存在，队列定义冲突，不重新声明队列，订阅失败
队列存在，队列定义冲突，重新声明队列，路由器不存在，订阅失败
队列存在，路由器存在，绑定不存在，订阅成功
队列存在，路由器存在，绑定存在，绑定冲突，订阅失败
队列存在，路由器存在，绑定存在，绑定不冲突，订阅成功